{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\OneDrive\\\\Desktop\\\\Folder\\\\MayaCons\\\\amazona\\\\frontend\\\\src\\\\screens\\\\ProfileScreen.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { detailsOrder } from \"../action/orderActions\";\nimport { detailsUser, updateUserProfile } from \"../action/userActions\";\nimport LoadingBox from \"../share/LoadingBox\";\nimport MessageBox from \"../share/MessageBox\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProfileScreen() {\n  _s();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const userSignin = useSelector(state => state.userSignin);\n  const {\n    userinfo\n  } = userSignin;\n  const userDetails = useSelector(state => state.userDetails);\n  const {\n    loading,\n    error,\n    user\n  } = userDetails;\n  const dispatch = useDispatch();\n  const userUpdateProfile = useSelector(state => state.updateProfile);\n  const {\n    success: successUpdate,\n    error: errorUpdate,\n    loading: loadingUpdate\n  } = userUpdateProfile;\n  useEffect(() => {\n    if (!user) {\n      dispatch(detailsUser(userinfo._id));\n    } else {\n      setName(user.name);\n      setEmail(user.email);\n    }\n  }, [dispatch, userinfo._id]);\n  const submitHandler = e => {\n    e.preventDefault();\n    //TODO: dispatch upadete profile\n    if (password !== confirmPassword) {\n      alert('Password and Confirm Password are not match');\n    } else {\n      dispatch(updateUserProfile({\n        userId: user._id,\n        name,\n        email,\n        password\n      }));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"User Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 31\n      }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 31\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [loadingUpdate && /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 43\n        }, this), errorUpdate && /*#__PURE__*/_jsxDEV(MessageBox, {\n          children: errorUpdate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"name\",\n            type: \"text\",\n            placeholder: \"Enter name\",\n            value: name,\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"email\",\n            type: \"text\",\n            placeholder: \"Enter email\",\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"password\",\n            type: \"text\",\n            placeholder: \"Enter Password\",\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"confirmpassword\",\n            children: \"Confrim Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"confirmpassword\",\n            type: \"text\",\n            placeholder: \"Enter confirm password\",\n            onChange: e => setConfirmPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"primary\",\n          type: \"submit\",\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n}\n_s(ProfileScreen, \"td3mA+hI2YPLFkqbhuQXjmSyMzc=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useSelector];\n});\n_c = ProfileScreen;\nvar _c;\n$RefreshReg$(_c, \"ProfileScreen\");","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","detailsOrder","detailsUser","updateUserProfile","LoadingBox","MessageBox","ProfileScreen","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","userSignin","state","userinfo","userDetails","loading","error","user","dispatch","userUpdateProfile","updateProfile","success","successUpdate","errorUpdate","loadingUpdate","_id","submitHandler","e","preventDefault","alert","userId","target","value"],"sources":["C:/Users/Administrator/OneDrive/Desktop/Folder/MayaCons/amazona/frontend/src/screens/ProfileScreen.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {detailsOrder} from \"../action/orderActions\";\r\nimport {detailsUser, updateUserProfile} from \"../action/userActions\";\r\nimport LoadingBox from \"../share/LoadingBox\";\r\nimport MessageBox from \"../share/MessageBox\";\r\n\r\nexport default function ProfileScreen(){\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [confirmPassword, setConfirmPassword] = useState('')\r\n\r\n    const userSignin = useSelector((state) => state.userSignin)\r\n    const { userinfo } = userSignin\r\n    const userDetails = useSelector((state) => state.userDetails)\r\n    const {loading, error, user} = userDetails\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userUpdateProfile = useSelector((state) => state.updateProfile)\r\n    const {success: successUpdate, error: errorUpdate, loading: loadingUpdate} = userUpdateProfile\r\n\r\n    useEffect(() =>{\r\n        if(!user){\r\n            dispatch(detailsUser(userinfo._id))\r\n        }else {\r\n            setName(user.name)\r\n            setEmail(user.email)\r\n        }\r\n\r\n    },[dispatch, userinfo._id])\r\n    const submitHandler = (e) =>{\r\n        e.preventDefault()\r\n        //TODO: dispatch upadete profile\r\n        if(password !== confirmPassword){\r\n            alert('Password and Confirm Password are not match')\r\n        }else {\r\n            dispatch(updateUserProfile({userId: user._id, name,email,password}))\r\n        }\r\n    }\r\n    return(\r\n        <div>\r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h1>User Profile</h1>\r\n                </div>\r\n                {\r\n                    loading ? <LoadingBox></LoadingBox>\r\n                    : error ? <MessageBox>{error}</MessageBox>\r\n                    :\r\n                    <>\r\n                        {loadingUpdate && <LoadingBox></LoadingBox>}\r\n                        {errorUpdate && <MessageBox>{errorUpdate}</MessageBox>}\r\n                        <div>\r\n                            <label htmlFor=\"name\">Name</label>\r\n                            <input\r\n                                id=\"name\"\r\n                                type=\"text\"\r\n                                placeholder=\"Enter name\"\r\n                                value={name}\r\n                                onChange={(e) => setName(e.target.value)}\r\n                            ></input>\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"email\">Name</label>\r\n                            <input\r\n                                id=\"email\"\r\n                                type=\"text\"\r\n                                placeholder=\"Enter email\"\r\n                                value={email}\r\n                                onChange={(e) => setEmail(e.target.value)}\r\n                            ></input>\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"password\">Password</label>\r\n                            <input\r\n                                id=\"password\"\r\n                                type=\"text\"\r\n                                placeholder=\"Enter Password\"\r\n                                onChange={(e) => setPassword(e.target.value)}\r\n                            ></input>\r\n                        </div>\r\n                        <div>\r\n                            <label htmlFor=\"confirmpassword\">Confrim Password</label>\r\n                            <input\r\n                                id=\"confirmpassword\"\r\n                                type=\"text\"\r\n                                placeholder=\"Enter confirm password\"\r\n                                onChange={(e) => setConfirmPassword(e.target.value)}\r\n                            ></input>\r\n                        </div>\r\n                        <label />\r\n                        <button className=\"primary\" type=\"submit\">\r\n                            Update\r\n                        </button>\r\n                    </>\r\n\r\n                }\r\n            </form>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}